---
title: "è®¾è®¡æ¨¡å¼é¢è¯•é¢˜ç¬”è®°"
date: 2025-03-07T21:44:36+08:00
lastmod: 2025-03-07T21:44:36+08:00
author: ["SwimmingLiu"]

categories:
- ğŸ’» Job

tags:
- Java
- Design Mode

keywords:
- Java
- Design Mode

description: "" # æ–‡ç« æè¿°ï¼Œä¸æœç´¢ä¼˜åŒ–ç›¸å…³
summary: "" # æ–‡ç« ç®€å•æè¿°ï¼Œä¼šå±•ç¤ºåœ¨ä¸»é¡µ
weight: # è¾“å…¥1å¯ä»¥é¡¶ç½®æ–‡ç« ï¼Œç”¨æ¥ç»™æ–‡ç« å±•ç¤ºæ’åºï¼Œä¸å¡«å°±é»˜è®¤æŒ‰æ—¶é—´æ’åº
slug: ""
math: true
draft: false # æ˜¯å¦ä¸ºè‰ç¨¿
comments: true
showToc: true # æ˜¾ç¤ºç›®å½•
TocOpen: false # è‡ªåŠ¨å±•å¼€ç›®å½•
autonumbering: true # ç›®å½•è‡ªåŠ¨ç¼–å·
hidemeta: false # æ˜¯å¦éšè—æ–‡ç« çš„å…ƒä¿¡æ¯ï¼Œå¦‚å‘å¸ƒæ—¥æœŸã€ä½œè€…ç­‰
disableShare: true # åº•éƒ¨ä¸æ˜¾ç¤ºåˆ†äº«æ 
searchHidden: false # è¯¥é¡µé¢å¯ä»¥è¢«æœç´¢åˆ°
showbreadcrumbs: true #é¡¶éƒ¨æ˜¾ç¤ºå½“å‰è·¯å¾„
mermaid: true
cover:
    image: ""
    caption: ""
    alt: ""
    relative: false
---


## 1. å•ä¾‹æ¨¡å¼æœ‰å“ªå‡ ç§å®ç°ï¼Ÿå¦‚ä½•ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Ÿ

é¦–å…ˆï¼Œå•ä¾‹æ¨¡å¼å’Œå·¥å‚æ¨¡å¼éƒ½æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ã€‚å•ä¾‹æ¨¡å¼å½“ä¸­ï¼Œä¸€ä¸ªç±»åªå…è®¸åˆ›å»ºä¸€ä¸ªå¯¹è±¡(æˆ–è€…è¯´å®ä¾‹)ï¼Œ é‚£è¿™ä¸ªç±»å°±æ˜¯å•ä¾‹ç±»ã€‚å•ä¾‹ç±»æ˜¯ä¸å¯ä»¥è¢«ç»§æ‰¿çš„ï¼Œä¹Ÿæ²¡æœ‰äº†å¤šæ€çš„ç‰¹æ€§ã€‚

**ã€å•ä¾‹ç±»çš„å®ç°æ–¹å¼ã€‘**

å¸¸è§„å•ä¾‹æ¨¡å¼æœ‰äº”ç§å†™æ³•ï¼Œä½†æ˜¯ç¼–å†™ä»£ç çš„è¿‡ç¨‹å½“ä¸­ï¼Œè¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š

1. æ„é€ å™¨éœ€è¦ç§æœ‰åŒ–
2. æš´éœ²ä¸€ä¸ªå…¬å…±è·å–å•ä¾‹å¯¹è±¡çš„æ¥å£ ï¼ˆ`obj.getInstance()`ï¼‰
3. æ˜¯å¦æ”¯æŒæ‡’åŠ è½½ `å»¶è¿ŸåŠ è½½`
4. æ˜¯å¦çº¿ç¨‹å®‰å…¨

äº”ç§å†™æ³•ä¸ºï¼š

1. **é¥¿æ±‰å¼**ï¼š ç±»åŠ è½½çš„æ—¶å€™ï¼Œå°±ä¸€èµ·æŠŠ `instance` é™æ€å®ä¾‹åˆ›å»ºå¥½äº†ï¼Œæ‰€ä»¥åˆ›å»ºçš„è¿‡ç¨‹å¸‚çº¿ç¨‹å®‰å…¨çš„ã€‚

   é¥¿æ±‰å¼çš„å•ä¾‹æ¨¡å¼è™½ç„¶ä¸æ”¯æŒæ‡’åŠ è½½ï¼Œæœ‰ç‚¹æµªè´¹èµ„æºã€‚ä½†å…¶å®ä¸ä¼šå ç”¨å¤ªå¤šèµ„æºï¼Œå¹¶ä¸”å¦‚æœä¸€ä¸ªå®ä¾‹åˆå§‹åŒ–çš„è¿‡ç¨‹æ¯”è¾ƒå¤æ‚ï¼Œå°±åº”è¯¥æ”¾åœ¨å¯åŠ¨çš„æ—¶å€™æ¥å¤„ç†ï¼Œé¿å…è¿è¡Œæ—¶å¡é¡¿æˆ–å‘ç”Ÿé—®é¢˜ï¼Œ æ»¡è¶³`fail-fast` å¤±è´¥å¿«é€Ÿè§£å†³çš„è®¾è®¡åŸåˆ™

   ``` java
   public class EagerSingleton {  
       private static Singleton instance = new Singleton();  
       private Singleton (){}  
       public static Singleton getInstance() {  
       	return instance;  
       }  
   }
   ```

2. **æ‡’æ±‰å¼**ï¼šç›¸è¾ƒäºé¥¿æ±‰å¼çš„æ–¹å¼ï¼Œä¿®æ”¹æˆå»¶è¿ŸåŠ è½½çš„æ¨¡å¼ã€‚æ³¨æ„`getInstance()`æ–¹æ³•æ²¡æœ‰ä¸Šé”çš„è¯ï¼Œåœ¨å¤§é‡çº¿ç¨‹å¹¶å‘è¯·æ±‚çš„æ—¶å€™ï¼Œå¯èƒ½åˆ›å»ºå¤šä¸ªå®ä¾‹ã€‚

   ```java
   public class Singleton {  
       private static Singleton instance;  
       private Singleton (){}  
       public synchronized static Singleton getInstance() {  
           if (instance == null) {  
               instance = new Singleton();  
           }  
           return instance;  
       }  
   }
   ```

3. **åŒé‡æ£€æŸ¥é”**ï¼šé¥¿æ±‰å¼é”ä¸æ”¯æŒå»¶è¿ŸåŠ è½½ï¼Œç„¶åæ‡’æ±‰å¼é”çš„ç²’åº¦æ¯”è¾ƒå¤§ï¼Œä¸æ”¯æŒé«˜å¹¶å‘ã€‚åŒé‡æ£€æŸ¥é”å¯ä»¥å®ç°æ—¢å»¶è¿ŸåŠ è½½ï¼Œåˆæ”¯æŒé«˜å¹¶å‘ã€‚å…¶å®å°±æ˜¯åœ¨åˆ¤æ–­äº†æ²¡æœ‰å®ä¾‹ä¹‹åï¼Œå†è¿›è¡Œä¸Šé”ï¼Œåˆ›å»ºå®ä¾‹ã€‚ ä½†æ˜¯å®ä¾‹å¿…é¡»ç”¨`volatile` ä¿®é¥°ï¼Œä¸ç„¶`new` æ“ä½œåˆ›å»ºå¯¹è±¡æ—¶ï¼Œå®¹æ˜“å‡ºç°é‡æ’åºçš„é—®é¢˜ã€‚

   ```java
   public class DclSingleton {  
       // volatileå¦‚æœä¸åŠ å¯èƒ½ä¼šå‡ºç°åŠåˆå§‹åŒ–çš„å¯¹è±¡
       // ç°åœ¨ç”¨çš„é«˜ç‰ˆæœ¬çš„ Java å·²ç»åœ¨ JDK å†…éƒ¨å®ç°ä¸­è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼ˆè§£å†³çš„æ–¹æ³•å¾ˆç®€å•ï¼Œåªè¦æŠŠå¯¹è±¡ new æ“ä½œå’Œåˆå§‹åŒ–æ“ä½œè®¾è®¡ä¸ºåŸå­æ“ä½œï¼Œå°±è‡ªç„¶èƒ½ç¦æ­¢é‡æ’åºï¼‰,ä¸ºäº†å…¼å®¹æ€§æˆ‘ä»¬åŠ ä¸Š
       private volatile static Singleton singleton;  
       private Singleton (){}  
       public static Singleton getInstance() {  
           if (singleton == null) {  
               synchronized (Singleton.class) {  
                   if (singleton == null) {  
                       singleton = new Singleton();  
                   }  
               }  
           }  
           return singleton;  
       }  
   }
   ```

4. **é™æ€å†…éƒ¨ç±»**ï¼šåˆ©ç”¨Javaçš„å†…éƒ¨ç±»ï¼Œå†è°ƒç”¨`getInstance()`æ–¹æ³•çš„æ—¶å€™ï¼Œç›´æ¥è¿”å›å†…éƒ¨ç±»çš„å®ä¾‹ã€‚ä»–ä¼šå†è°ƒç”¨æ–¹æ³•ä¹‹åï¼Œåˆ›å»ºå†…éƒ¨ç±»çš„å®ä¾‹å¯¹è±¡ã€‚å®ä¾‹çš„å”¯ä¸€æ€§å’Œåˆ›å»ºè¿‡ç¨‹çš„çº¿ç¨‹å®‰å…¨æ€§ï¼Œéƒ½æœ‰JVMæ¥ä¿è¯ã€‚è¿™ç§æ–¹æ³•æ—¢æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œåˆèƒ½å¤Ÿåšå»¶è¿ŸåŠ è½½ã€‚

   ```java
   public class InnerSingleton {
       /** ç§æœ‰åŒ–æ„é€ å™¨ */
       private Singleton() {
       }
       /** å¯¹å¤–æä¾›å…¬å…±çš„è®¿é—®æ–¹æ³• */
       public static Singleton getInstance() {
           return SingletonHolder.INSTANCE;
       }
       /** å†™ä¸€ä¸ªé™æ€å†…éƒ¨ç±»ï¼Œé‡Œé¢å®ä¾‹åŒ–å¤–éƒ¨ç±» */
       private static class SingletonHolder {
           private static final Singleton INSTANCE = new Singleton();
       }
   }
   ```

5. **æšä¸¾**ï¼šé€šè¿‡Javaæšä¸¾ç±»å‹æœ¬èº«çš„ç‰¹æ€§ï¼Œä¿è¯å®ä¾‹åˆ›å»ºçº¿ç¨‹çš„å®‰å…¨æ€§å’Œå®ä¾‹çš„å”¯ä¸€æ€§ã€‚

   ```java
   // ä½¿ç”¨æšä¸¾å®ç°å•ä¾‹æ¨¡å¼
   public enum Singleton {
       INSTANCE;
       // å•ä¾‹ä¸­çš„æ–¹æ³•ç¤ºä¾‹
       public void doSomething() {
           System.out.println("å•ä¾‹æ–¹æ³•æ‰§è¡Œ");
       }
   }
   // ä½¿ç”¨æ–¹æ³•ï¼š
   Singleton.INSTANCE.doSomething();
   ```

   ä¹Ÿå¯ä»¥ç”¨å•ä¾‹é¡¹ä½œä¸ºæšä¸¾çš„æˆå‘˜å˜é‡ï¼Œç´¯åŠ å™¨å¯ä»¥åƒä¸‹é¢è¿™æ ·ç¼–å†™ï¼š

   ``` java
   public enum GlobalCounter {
       INSTANCE;
       private AtomicLong atomicLong = new AtomicLong(0);
   
       public long getNumber() { 
           return atomicLong.incrementAndGet();
       }
   }
   ```

**ã€å•ä¾‹æ¨¡å¼çš„å®‰å…¨é—®é¢˜ã€‘**

1. **åå°„å…¥ä¾µ**ï¼šå¦‚æœæƒ³è¦é˜»æ­¢å…¶ä»–äººæ„é€ å®ä¾‹ï¼Œä»…ä»…ç§æœ‰åŒ–æ„é€ å™¨è¿˜æ˜¯ä¸å¤Ÿçš„ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥åˆ©ç”¨åå°„æœºåˆ¶æ¥è·å–ç§æœ‰æ„é€ å™¨è¿›è¡Œæ„é€ ã€‚å¦‚æœè¦é¿å…è¿™ç§æƒ…å†µå‘ç”Ÿï¼Œå¯ä»¥å†æ„é€ å™¨å½“ä¸­è¿›è¡Œåˆ¤æ–­å®ä¾‹æ˜¯å¦å·²å­˜åœ¨ï¼Œé¿å…å¤šæ¬¡åˆ©ç”¨æ„é€ å™¨æ„é€ å®ä¾‹

   ```java
   public class Singleton {
       private volatile static Singleton singleton;
       private Singleton (){
           if(singleton != null) 
               throw new RuntimeException("å®ä¾‹ï¼šã€"
                       + this.getClass().getName() + "ã€‘å·²ç»å­˜åœ¨ï¼Œè¯¥å®ä¾‹åªå…è®¸å®ä¾‹åŒ–ä¸€æ¬¡");
       }
   
       public static Singleton getInstance() {
           if (singleton == null) {
               synchronized (Singleton.class) {
                   if (singleton == null) {
                       singleton = new Singleton();
                   }
               }
           }
           return singleton;
       }
   }
   // åˆ©ç”¨åå°„æœºåˆ¶æ¥å…¥ä¾µæ„é€ å®ä¾‹
   @Test
   public void testReflect() throws NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException {
       Class<DclSingleton> clazz = DclSingleton.class;
       Constructor<DclSingleton> constructor = clazz.getDeclaredConstructor();
       constructor.setAccessible(true);
   
       boolean flag = DclSingleton.getInstance() == constructor.newInstance();
   
       log.info("flag -> {}",flag);
   }
   ```

2. **åºåˆ—åŒ–ä¸ååºåˆ—åŒ–**ï¼šå¦‚æœå•ä¾‹å­˜åˆ°æ–‡ä»¶æµå½“ä¸­ï¼Œå†è¿›è¡Œååºåˆ—è¯ï¼Œä¹Ÿä¸æ˜¯åŒä¸€ä¸ªå®ä¾‹ã€‚ä½†æ˜¯å¯ä»¥ç”¨`readResolve()`çš„æ–¹æ³•ï¼Œå°†è¿”å›å€¼ä½œä¸ºååºåˆ—åŒ–çš„ç»“æœï¼Œè€Œä¸ä¼šå…‹éš†ä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œä¿è¯jvmå½“ä¸­åªæœ‰ä¸€ä¸ªå®ä¾‹å­˜åœ¨ã€‚

   ```java
   @Test
   public void testSerialize() throws IllegalAccessException, NoSuchMethodException, IOException, ClassNotFoundException {
       // è·å–å•ä¾‹å¹¶åºåˆ—åŒ–
       Singleton singleton = Singleton.getInstance();
       FileOutputStream fout = new FileOutputStream("D://singleton.txt");
       ObjectOutputStream out = new ObjectOutputStream(fout);
       out.writeObject(singleton);
       // å°†å®ä¾‹ååºåˆ—åŒ–å‡ºæ¥
       FileInputStream fin = new FileInputStream("D://singleton.txt");
       ObjectInputStream in = new ObjectInputStream(fin);
       Object o = in.readObject();
       log.info("ä»–ä»¬æ˜¯åŒä¸€ä¸ªå®ä¾‹å—ï¼Ÿ{}",o == singleton); // å¦‚æœç›´æ¥è·å–ï¼Œååºåˆ—åŒ–åçš„ä¸æ˜¯åŒä¸€ä¸ªå®ä¾‹
   }
   // æ·»åŠ readResolve()æ¥è§£å†³åºåˆ—åŒ–å’Œååºåˆ—åŒ–é—®é¢˜
   public class Singleton implements Serializable {
       // çœç•¥å…¶ä»–çš„å†…å®¹
       public static Singleton getInstance() { 
       }
       // éœ€è¦åŠ è¿™ä¹ˆä¸€ä¸ªæ–¹æ³•
       public Object readResolve(){
           return singleton;
       }
   }
   ```

**ã€ä¸ºä»€ä¹ˆè¦ç”¨å•ä¾‹æ¨¡å¼ã€‘**

1. **ä¸ºäº†å…¨å±€å”¯ä¸€**ï¼šç³»ç»Ÿä¸­å¦‚é…ç½®ç±»ã€å…¨å±€è®¡æ•°å™¨ç­‰ç±»å‹ï¼Œåº”è¯¥éƒ½éƒ½åªèƒ½ä¿å­˜ä¸€ä»½æ•°æ®ï¼Œä¸åº”è¯¥æœ‰å¤šä»½æ•°æ®ã€‚

   - é…ç½®ç±»ï¼šç³»ç»Ÿä»…æœ‰ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼ŒåŠ è½½åˆ°å†…å­˜åæ˜ å°„æˆå”¯ä¸€çš„é…ç½®å®ä¾‹
   - å…¨å±€è®¡æ•°å™¨ï¼šç”¨äºæ•°æ®ç»Ÿè®¡ã€ç”Ÿæˆå…¨å±€é€’å¢`id` ç­‰åŠŸèƒ½ï¼Œå¿…é¡»è¦æ˜¯å”¯ä¸€çš„ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´ç»Ÿè®¡æ— æ•ˆã€`ID` é‡å¤ç­‰é—®é¢˜ã€‚

   ``` java
   // å…¨å±€idç”Ÿæˆå™¨
   public class GlobalCounter {
       private AtomicLong atomicLong = new AtomicLong(0);
       private static final GlobalCounter instance = new GlobalCounter();
       // ç§æœ‰åŒ–æ— å‚æ„é€ å™¨
       private GlobalCounter() {}
       public static GlobalCounter getInstance() {
           return instance;
       }
       public long getId() { 
           return atomicLong.incrementAndGet();
       }
   }
   // æŸ¥çœ‹å½“å‰çš„ç»Ÿè®¡æ•°é‡
   long courrentNumber = GlobalCounter.getInstance().getId();
   ```

2. **å¤„ç†èµ„æºè®¿é—®å†²çª**ï¼šå‡å¦‚éœ€è¦æ—¥å¿—è¾“å‡ºçš„åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨å•ä¾‹ié¢èµ„æºè®¿é—®å†²çª

   ```java
   public class Logger {
       private String basePath = "D://log/";
       private static Logger instance = new Logger(); 
       private FileWriter writer;
       private Logger() {
           File file = new File(basePath);
           try {
               writer = new FileWriter(file, true); //trueè¡¨ç¤ºè¿½åŠ å†™å…¥
           } catch (IOException e) {
               throw new RuntimeException(e);
           }
       }
       public static Logger getInstance(){ //ç¡®ä¿å…¨å±€åªæœ‰ä¸€ä¸ªloggerå®ä¾‹å¯¹è±¡
           return instance;
       }
       public void log(String message) {
           try {
               writer.write(message);
           } catch (IOException e) {
               throw new RuntimeException(e);
           }
       }
       public void setBasePath(String basePath) {
           this.basePath = basePath;
       }
   }
   ```

**ã€å•ä¾‹æ¨¡å¼å­˜åœ¨çš„é—®é¢˜ã€‘**

1. **æ— æ³•æ”¯æŒé¢å‘å¯¹è±¡ç¼–ç¨‹`OOP`**ï¼š `OOP` çš„ä¸‰å¤§ç‰¹æ€§æ˜¯**å°è£…ã€ç»§æ‰¿ã€å¤šæ€**ã€‚å•ä¾‹æŠŠæ„é€ å‡½æ•°ç§æœ‰åŒ–äº†ï¼Œä¸æ”¯æŒç»§æ‰¿å’Œå¤šæ€ã€‚æ‰€ä»¥æ— æ³•å¯¹å®ƒè¿›è¡Œæ‹“å±•ã€‚
2. **å¾ˆéš¾æ¨ªå‘æ‹“å±•**ï¼šå•ä¾‹ç±»åªèƒ½æœ‰ä¸€ä¸ªå¯¹è±¡å®ä¾‹ï¼Œå¦‚æœåé¢éœ€è¦è¿›è¡Œæ‹“å±•ï¼Œåˆ›å»ºå¤šä¸ªå®ä¾‹ã€‚å¿…é¡»ä¿®æ”¹æºç ï¼Œæ— æ³•å‹å¥½æ‹“å±•ã€‚

**ã€ä¸åŒä½œç”¨èŒƒå›´çš„å•ä¾‹æ¨¡å¼ã€‘**

1. çº¿ç¨‹çº§åˆ«å•ä¾‹ï¼šå•ä¾‹ç±»å¯¹è±¡æ˜¯è¿›ç¨‹å”¯ä¸€çš„ï¼Œå¦‚æœæƒ³è¦çº¿ç¨‹å”¯ä¸€ã€‚åœ¨ä¸ä½¿ç”¨`ThreadLocal`çš„æ—¶å€™ï¼Œå¯ä»¥é‡‡ç”¨`ConCurrentHashMap` çš„æ–¹å¼ï¼Œç”¨çº¿ç¨‹`id`ä¸º`key`ï¼Œ å®ä¾‹ä¸º`value`ã€‚æ¯ä¸ªçº¿ç¨‹çš„å­˜å–éƒ½ä»å…±äº«çš„ `map` å½“ä¸­è¿›è¡Œæ“ä½œã€‚

   ```java
   public class Connection {
       private static final ConcurrentHashMap<Long, Connection> instances
               = new ConcurrentHashMap<>();
       private Connection() {}
       public static Connection getInstance() {
           Long currentThreadId = Thread.currentThread().getId();
           instances.putIfAbsent(currentThreadId, new Connection());
           return instances.get(currentThreadId);
       }
   }
   ```

2. **å®¹å™¨çº§åˆ«çš„å•ä¾‹**ï¼šå°†å•ä¾‹çš„ä½œç”¨èŒƒå›´ç”±è¿›ç¨‹åˆ‡æ¢åˆ°ä¸€ä¸ªå®¹å™¨ï¼Œå¯èƒ½ä¼šæ›´åŠ æ–¹ä¾¿æˆ‘ä»¬è¿›è¡Œå•ä¾‹å¯¹è±¡çš„ç®¡ç†ã€‚è¿™ä¹Ÿæ˜¯`Spring` çš„æ ¸å¿ƒæ€æƒ³ã€‚`Spring` æä¾›ä¸€ä¸ªå•ä¾‹å®¹å™¨ï¼Œç¡®ä¿ä¸€ä¸ªå®ä¾‹æ˜¯å®¹å™¨çº§åˆ«çš„å•ä¾‹ï¼Œå¹¶ä¸”åœ¨å®¹å™¨å¯åŠ¨æ—¶å®Œæˆåˆå§‹åŒ–ã€‚å…·ä½“ä¼˜åŠ¿å¦‚ä¸‹ï¼š

   - æ‰€æœ‰çš„`bean` éƒ½ä»¥å•ä¾‹çš„å½¢å¼å­˜æ”¾åœ¨å®¹å™¨ä¸­ï¼Œé¿å…å¤§é‡çš„å¯¹è±¡è¢«åˆ›å»ºï¼Œé€ æˆ`JVM` å†…å­˜æŠ–åŠ¨ä¸¥é‡ï¼Œé¢‘ç¹`GC`ã€‚
   - ç¨‹åºå¯åŠ¨æ—¶ï¼Œåˆå§‹åŒ–å•ä¾‹`bean`ï¼Œ æ»¡è¶³`fast-fail`ï¼Œå°†æ‰€æœ‰æ„å»ºè¿‡ç¨‹çš„å¼‚å¸¸æš´éœ²åœ¨å¯åŠ¨æ—¶ï¼Œè€Œéè¿è¡Œæ—¶ã€‚
   - ç¼“å­˜äº†æ‰€æœ‰å•ä¾‹`bean`ï¼Œå¯åŠ¨çš„è¿‡ç¨‹ç›¸å½“äºé¢„çƒ­çš„è¿‡ç¨‹ï¼Œè¿è¡Œæ—¶ä¸å¿…è¿›è¡Œå¯¹è±¡åˆ›å»ºï¼Œæ•ˆç‡æ›´é«˜ã€‚
   - å®¹å™¨ç®¡ç†`bean`çš„ç”Ÿå‘½å‘¨æœŸï¼Œç»“åˆä¾èµ–æ³¨å…¥ä½¿å¾—è§£è€¦æ›´åŠ å½»åº•ã€æ‰©å±•æ€§æ›´å¥½ã€‚

## 2. ä»€ä¹ˆæ˜¯ç­–ç•¥æ¨¡å¼ï¼Ÿä¸€èˆ¬ç”¨åœ¨ä»€ä¹ˆåœºæ™¯ï¼Ÿ

ç­–ç•¥æ¨¡å¼æ˜¯è¡Œä¸ºè®¾è®¡æ¨¡å¼çš„ä¸€ç§ï¼Œé€šè¿‡å®šä¹‰ä¸€ç³»åˆ—çš„ç®—æ³•ç±»ã€‚å…è®¸åœ¨è¿è¡Œæ—¶åŠ¨æ€é€‰æ‹©ç®—æ³•ï¼Œä»è€Œå®ç°æ›´åŠ çµæ´»çš„ä»£ç ç»“æ„ã€‚è¯¥æ¨¡å¼ç”¨äºç»„ç»‡å’Œè°ƒç”¨è¿™äº›ç®—æ³•ï¼Œè®©ç¨‹åºç»“æ„å˜å¾—æ›´åŠ çµæ´»ï¼Œå…·æœ‰æ›´å¥½çš„ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§ã€‚

ç­–ç•¥æ¨¡å¼ä¸€èˆ¬ç”¨äºå½“ä¸€ä¸ªåŠŸèƒ½å­˜åœ¨å¤šç§ç®—æ³•çš„æ—¶å€™ï¼Œéœ€è¦æ ¹æ®ä¸åŒçš„æƒ…å†µä½¿ç”¨ä¸åŒçš„è®¡ç®—ç®—æ³•(éƒ½å°è£…æˆç±»çš„)ã€‚è¿™æ ·å°±å¯ä»¥é¿å…åˆ©ç”¨å¤§é‡çš„`if-else` æˆ–è€… `switch-else`

**ã€ä¸ºä»€ä¹ˆè¦ç”¨ç­–ç•¥æ¨¡å¼ã€‘**

- **é¿å…ç¨‹åºå­˜åœ¨åˆ¤æ–­æˆ–é€‰æ‹©åˆ†æ”¯è¯­å¥**ï¼šå½“ç¨‹åºå­˜åœ¨å¤§é‡çš„ `if-else` æˆ–è€… `switch-else` åˆ¤æ–­è¯­å¥ï¼Œä»£ç å¯èƒ½å˜å¾—éš¾ä»¥ç»´æŠ¤
- **é¿å…ç ´åç°æœ‰åŠŸèƒ½**ï¼šå½“ç®—æ³•çš„å®ç°ç»å¸¸å˜æ›´æˆ–éœ€è¦æ‹“å±•çš„æ—¶å€™ï¼Œç›´æ¥ä¿®æ”¹ä»£ç å¯èƒ½ä¼šç ´åç°æœ‰åŠŸèƒ½ã€‚

**ã€ç­–ç•¥æ¨¡å¼çš„åœºæ™¯ã€‘**

- **å¤šç§ç®—æ³•å¯äº’æ¢**ï¼šéœ€è¦åŠ¨æ€é€‰æ‹©ç®—æ³•ï¼Œä¾‹å¦‚æ’åºç®—æ³•çš„é€‰æ‹©ã€‚æœ‰å¾ˆå¤šç§æ’åºç®—æ³•ï¼Œå¯ä»¥æŠŠä¸åŒçš„æ’åºæ–¹å¼å°è£…æˆä¸€ä¸ªç‹¬ç«‹çš„ç®—æ³•ç±» (å¿«é€Ÿæ’åºã€å½’å¹¶æ’åºã€ç›´æ¥æ’å…¥æ’åºç­‰)
- **é¿å…æ¡ä»¶è¯­å¥**ï¼šé‡‡ç”¨ç­–ç•¥æ¨¡å¼æ›¿æ¢æ‰ä»£ç å½“ä¸­çš„å¤§é‡`if-else` æˆ– `switch` è¯­å¥
- **ä¸ä¸Šä¸‹æ–‡ç‹¬ç«‹**ï¼šå®¢æˆ·ç«¯ä¸éœ€è¦çŸ¥é“å…·ä½“çš„å®ç°ç»†èŠ‚ï¼Œåªéœ€ä»¥æ¥æŠ½è±¡ç­–ç•¥ã€‚

**ã€ç­–ç•¥æ¨¡å¼å…¸å‹åº”ç”¨åœºæ™¯ã€‘**

- **æ”¯ä»˜ç³»ç»Ÿ**ï¼šæ”¯æŒå¤šç§æ”¯ä»˜æ–¹å¼ï¼Œæ¯”å¦‚å¾®ä¿¡ã€æ”¯ä»˜å®ã€ä¿¡ç”¨å¡
- **æ•°æ®å‹ç¼©**ï¼šæä¾›ä¸åŒçš„å‹ç¼©ç®—æ³•
- **æ—¥å¿—ç­–ç•¥**ï¼šæ ¹æ®æ—¥å¿—çº§åˆ«åŠ¨æ€é€‰æ‹©è®°å½•ç­–ç•¥

**ã€ç­–ç•¥æ¨¡å¼çš„ç»„æˆã€‘**

- **`Strategy` ç­–ç•¥**ï¼šç”¨æ¥çº¦æŸä¸€ç³»åˆ—å…·ä½“çš„ç­–ç•¥ç®—æ³•ã€‚`Context` ä¸Šä¸‹æ–‡ä½¿ç”¨è¿™ä¸ªæ¥å£æ¥è°ƒç”¨å…·ä½“çš„ç­–ç•¥å®ç°å®šä¹‰çš„ç®—æ³•ã€‚å¦‚æœå¤šä¸ªç®—æ³•å…·æœ‰å…¬å…±åŠŸèƒ½çš„åŒ–ï¼ŒæŠŠ`Strategy` å®ç°ä¸ºæŠ½è±¡ç±»ï¼Œç„¶åæŠŠå¤šä¸ªç®—æ³•çš„åŠŸèƒ½å®ç°åˆ°`Stragy` é‡Œé¢ã€‚ (æ¯”å¦‚å¤šç§æ’åºç®—æ³•ï¼Œéƒ½æ”¾åœ¨ `Strategy` æŠ½è±¡ç±»é‡Œé¢)
- **`ConcreteStrategy` å…·ä½“ç­–ç•¥**ï¼š å…·ä½“çš„ç­–ç•¥å®ç°ï¼Œè´Ÿè´£å®ç°`Strategy` ç­–ç•¥çš„æ¥å£ (å¤šç§æ’åºç®—æ³•çš„å…·ä½“å®ç°)
- **`Context` ä¸Šä¸‹æ–‡**ï¼šä¸Šä¸‹æ–‡æ˜¯è´Ÿè´£å’Œå…·ä½“çš„ç­–ç•¥ç±»äº¤äº’ï¼Œé€šå¸¸ä¸Šä¸‹æ–‡ä¼šåƒæœ‰ä¸€ä¸ªçœŸæ­£çš„ç­–ç•¥å®ç° (å°±æ˜¯è°ƒç”¨å“ªä¸ªæ’åºæ–¹æ³•ï¼Œæ¯”å¦‚è¯´ `main` å‡½æ•°)

![ç­–ç•¥æ¨¡å¼çš„ç»„æˆ](https://oss.swimmingliu.cn/f649bf1f-fb59-11ef-8f2a-c858c0c1deba)

## 3. ä»€ä¹ˆæ˜¯æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼Ÿä¸€èˆ¬ç”¨åœ¨ä»€ä¹ˆåœºæ™¯ï¼Ÿ

æ¨¡æ¿æ–¹æ³•å°±æ˜¯åœ¨æŠ½è±¡ç±»é‡Œé¢å®šä¹‰å¥½ç®—æ³•çš„éª¨æ¶ï¼Œå…·ä½“æ­¥éª¤åœ¨å­ç±»å®ç°ã€‚

**ã€æ¨¡æ¿æ–¹æ³•ç‰¹ç‚¹ã€‘**

1. **ç®—æ³•éª¨æ¶**ï¼šåœ¨åŸºç±»ä¸­å®šä¹‰ä¸€ä¸ªç®—æ³•çš„å›ºå®šæ‰§è¡Œæ­¥éª¤ï¼Œå…·ä½“å®ç°æ­¥éª¤äº¤ç»™å­ç±»å®ç°
2. **å¤ç”¨ä»£ç **ï¼šå­ç±»å¤ç”¨åŸºç±»ä¸­å®šä¹‰çš„å…¬å…±é€»è¾‘ï¼Œåªéœ€è¦å®ç°ç‰¹å®šçš„é€»è¾‘
3. **éµå¾ªå¼€é—­è§„åˆ™**ï¼šæ¨¡æ¿æ–¹æ³•æ˜¯æ‰©å±•å¼€æ”¾ï¼Œä¿®æ”¹é—­åˆçš„

**ã€å…¸å‹ä½¿ç”¨åœºæ™¯ã€‘**

- **æ•°æ®è¯·æ±‚å¤„ç†**: è¯»å–æ•°æ®ã€å¤„ç†æ•°æ®ã€è¾“å‡ºç»“æœ
- **Webè¯·æ±‚å¤„ç†**ï¼šè§£æè¯·æ±‚ã€å¤„ç†é€»è¾‘ã€è¿”å›å“åº”
- **`String Template` å­—ç¬¦ä¸²æ¨¡æ¿**

``` java
String name = "World";
String greeting = STR."Hello, \{name}!";
System.out.println(greeting); // è¾“å‡º: Hello, World!
```

## 4. è°ˆè°ˆä½ äº†è§£çš„æœ€å¸¸è§çš„å‡ ç§è®¾è®¡æ¨¡å¼ï¼Œè¯´è¯´ä»–ä»¬çš„åº”ç”¨åœºæ™¯

**ã€å¸¸è§çš„è®¾è®¡æ¨¡å¼ã€‘**

- **å•ä¾‹æ¨¡å¼**ï¼šä¿è¯ç³»ç»Ÿä¸­ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œæ¯”å¦‚å…¨å±€é…ç½®ã€å…¨å±€è®¡æ•°å™¨ã€æ•°æ®åº“è¿æ¥æ± 
- **ç­–ç•¥æ¨¡å¼**ï¼šå°è£…ä¸€ç»„ç®—æ³•è®©ä»–ä»¬ä¹‹é—´èƒ½å¤Ÿç›¸äº’æ›¿ä»£ï¼Œé¿å…å¤§é‡çš„`if-else` å’Œ `switch-case` è¯­å¥ï¼Œæ¯”å¦‚ç”¨æˆ·é€‰æ‹©ä¸åŒçš„æ”¯ä»˜ç­–ç•¥ï¼Œæˆ–è€…è°ƒç”¨ä¸åŒçš„æ’åºç®—æ³•ã€‚
- **æ¨¡æ¿æ¨¡å¼**ï¼šæç‚¼æ ¸å¿ƒæµç¨‹å°è£…æˆä¸€ä¸ªæ–¹æ³•ï¼Œæ¯”å¦‚åƒæ”¯ä»˜é€»è¾‘(å‚æ•°æ ¡éªŒã€è°ƒèµ·æ”¯ä»˜æ¥å£ã€ä¿®æ”¹æ”¯ä»˜çŠ¶æ€)ï¼Œé™¤äº†è°ƒèµ·æ”¯ä»˜æ¥å£ä»¥å¤–ï¼Œå…¶ä»–çš„æµç¨‹åŸºæœ¬ä¸€è‡´ã€‚æ‰€ä»¥å¯ä»¥å°è£…æˆæ¨¡æ¿æ–¹æ³•ï¼Œç„¶åæŠŠè°ƒèµ·æ”¯ä»˜æ¥å£çš„æ“ä½œï¼Œåœ¨å…·ä½“å®ç°æ–¹æ³•å½“ä¸­é‡å†™è¯¥æ–¹æ³•ã€‚
- **ç®€å•å·¥å‚æ¨¡å¼**ï¼šè·å–ä¸åŒçš„å¯¹è±¡æ—¶å¯ä»¥ä½¿ç”¨ï¼Œå°†å¯¹è±¡çš„åˆ›å»ºé€»è¾‘æŠ½ç¦»å¤ç”¨ã€‚
- **å¤–è§‚æ¨¡å¼**ï¼šä¸ºå­ç³»ç»Ÿæä¾›ä¸€ç»„ç»Ÿä¸€æ¥å£ï¼Œéšè—å†…éƒ¨å®ç°ç»†èŠ‚ï¼Œæ–¹ä¾¿å­ç³»ç»Ÿç›´æ¥è°ƒç”¨ï¼Œè€Œæ— éœ€å…³æ³¨å®ç°ç»†èŠ‚(æ¯”å¦‚é«˜å¾·å’Œç™¾åº¦çš„ `SDK`)
- **ä»£ç†æ¨¡å¼**ï¼šé€šè¿‡åˆ›å»ºä»£ç†å¯¹è±¡æ¥æ§åˆ¶å“¦å¯¹å®é™…å¯¹è±¡çš„è®¿é—®ï¼Œä¾‹å¦‚`Sping AOP`åˆ‡é¢ç¼–ç¨‹é‡‡ç”¨ä»£ç†æ¨¡å¼æ¥åŠ¨æ€ç”Ÿæˆå¢å¼ºç›®æ ‡å¯¹è±¡çš„ä»£ç† (é€šè¿‡ `JDK` åŠ¨æ€ä»£ç†æˆ–è€…`CGLIB`ä»£ç†) ã€‚`Sping AOP` é»˜è®¤ä¼˜å…ˆä½¿ç”¨ JDK åŠ¨æ€ä»£ç†ã€‚å½“ç›®æ ‡ç±»æœªå®ç°æ¥å£æ—¶ï¼Œæ‰ä¼šåˆ‡æ¢ä¸º CGLIB åŠ¨æ€ä»£ç†ã€‚

**ã€Springä¸­çš„è®¾è®¡æ¨¡å¼ã€‘**

![Springä¸­çš„è®¾è®¡æ¨¡å¼](https://oss.swimmingliu.cn/f6a094ff-fb59-11ef-b5d7-c858c0c1deba)

## 5. ä½ è®¤ä¸ºå¥½çš„ä»£ç åº”è¯¥æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ

**ã€é€šä¿—æ˜“æ‡‚çš„è®²ã€‘** 

- **æ¸…æ™°æ˜“æ‡‚ï¼Œä¿æŒç®€æ´å’Œæ˜“è¯»æ€§**ï¼šä»£ç ç®€æ´ã€ç›´è§‚ï¼Œå‡½æ•°å’Œå˜é‡å‘½åéƒ½æœ‰æ„ä¹‰ï¼Œå¯è¯»æ€§éå¸¸å¼ºï¼Œæœ‰åˆç†çš„æ³¨é‡Šã€‚
- **é«˜å†…èšä½è€¦åˆ**ï¼šé«˜å†…èšæ˜¯æŒ‡ä»£ç æ¨¡å—å†…éƒ¨åŠŸèƒ½é›†ä¸­ï¼Œæ¯ä¸ªæ¨¡å—éƒ½æœ‰å•ä¸€èŒè´£ã€‚ä½è€¦åˆæŒ‡çš„æ˜¯ä¸åŒæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»å°½é‡æ¾æ•£ï¼Œä¿®æ”¹ä¸€ä¸ªæ¨¡å—çš„æ—¶å€™ï¼Œå…¶ä»–æ¨¡å—å—åˆ°çš„å½±å“æ¯”è¾ƒå°ã€‚
- **å¯æµ‹è¯•**ï¼šæ¯ä¸ªæ¨¡å—éƒ½è®¾è®¡ä¸ºç‹¬ç«‹çš„ã€å¯éªŒè¯çš„å•å…ƒï¼Œç¼–å†™å•å…ƒæµ‹è¯•ç”¨ä¾‹çš„æ—¶å€™ï¼Œèƒ½å¤Ÿç¡®ä¿ä»£ç çš„æ­£ç¡®æ€§å¹¶ä¸”å‘ç°æ½œåœ¨é—®é¢˜ã€‚
- **æ˜“äºæ‰©å±•ï¼Œéµå¾ªå¼€é—­åŸåˆ™**ï¼šä»£ç å…·æœ‰ä¸€å®šçµæ´»æ€§ï¼Œèƒ½åœ¨ä¸ç ´åç°æœ‰åŠŸèƒ½çš„æƒ…å†µä¸‹ï¼Œæ–¹ä¾¿è¿›è¡Œæ‰©å±•å’Œä¿®æ”¹ã€‚
- **ç¬¦åˆå›¢é˜Ÿè§„èŒƒ**ï¼šä»£ç é£æ ¼å’Œå›¢é˜Ÿæ•´ä½“ä»£ç è§„èŒƒç»Ÿä¸€ï¼Œæœ‰åŠ©äºååŠ©å›¢é˜Ÿåä½œå’Œä»£ç å®¡æŸ¥ã€‚
- **å‡å°‘ç¡¬ç¼–ç ã€é­”æ³•å€¼**ï¼šå°½é‡é¿å…ç¡¬ç¼–ç å’Œé­”æ³•å€¼çš„ç°è±¡ï¼Œæ–¹ä¾¿åç»­è¿›è¡Œä¿®æ”¹ã€‚

**ã€å¥½ä»£ç å…·å¤‡ä»¥ä¸‹ç‰¹æ€§ã€‘**

| è®¾è®¡åŸåˆ™     | ä»£ç ç‰¹æ€§                   | ç»“æœ                                   |
| ------------ | -------------------------- | -------------------------------------- |
| å•ä¸€èŒè´£     | ç±»æˆ–æ¨¡å—èŒè´£å•ä¸€           | é™ä½ç±»çš„å¤æ‚åº¦ï¼Œå¢å¼ºå¯è¯»æ€§å’Œç»´æŠ¤æ€§     |
| å¼€é—­åŸåˆ™     | å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­     | æé«˜æ‰©å±•æ€§ï¼Œå‡å°‘å¯¹å·²æœ‰ä»£ç çš„ä¿®æ”¹       |
| é«˜å†…èšä½è€¦åˆ | æ¨¡å—èŒè´£æ˜ç¡®ï¼Œä¾èµ–å…³ç³»æ¾æ•£ | å¢å¼ºä»£ç çš„å¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§             |
| æ¥å£éš”ç¦»åŸåˆ™ | æ¥å£å°ä¸”ä¸“ç”¨               | å‡å°‘æ— å…³å®ç°ä»£ç ï¼Œå¢å¼ºæ¥å£çš„çµæ´»æ€§     |
| ä¾èµ–å€’ç½®     | ä¾èµ–äºæŠ½è±¡è€Œéå…·ä½“å®ç°     | é™ä½æ¨¡å—é—´çš„è€¦åˆåº¦ï¼Œæé«˜ä»£ç çµæ´»æ€§     |
| åˆæˆå¤ç”¨åŸåˆ™ | ä¼˜å…ˆä½¿ç”¨ç»„åˆè€Œéç»§æ‰¿       | æé«˜çµæ´»æ€§ï¼Œé¿å…ç»§æ‰¿å¯¼è‡´çš„é«˜èšåˆ       |
| é‡Œæ°æ›¿æ¢åŸåˆ™ | å­ç±»å¯ä»¥æ— ç¼æ›¿æ¢çˆ¶ç±»       | ç¡®ä¿ç»§æ‰¿ä½“ç³»çš„æ­£ç¡®æ€§ï¼Œå¢å¼ºä»£ç çš„ç¨³å®šæ€§ |
| è¿ªç±³ç‰¹æ³•åˆ™   | å‡å°‘ç±»ä¹‹é—´çš„ä¾èµ–           | é™ä½è€¦åˆåº¦ï¼Œå¢å¼ºæ¨¡å—ç‹¬ç«‹æ€§             |

## 6. å·¥å‚æ¨¡å¼å’ŒæŠ½è±¡å·¥å‚æ¨¡å¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

**ã€å·¥å‚æ¨¡å¼ã€‘**

- **å¯¹è±¡**ï¼šåˆ›å»ºä¸€ç§ç±»å‹çš„äº§å“å¯¹è±¡ï¼Œæ¯”å¦‚è®©googleåˆ›å»ºå®‰å“ç³»ç»Ÿï¼Œ ä¸åŒå“ç‰Œçš„æ‰‹æœºå‚å•†(å·¥å‚å­ç±»)å°±å¯ä»¥æ ¹æ®å®‰å“ç³»ç»Ÿå½“ä¸­çš„åŠŸèƒ½ï¼Œé‡å†™å‡ºå…¶ä»–çš„`os` ç³»ç»Ÿï¼Œæ¯”å¦‚é¸¿è’™ç³»ç»Ÿã€æ¾æ¹ƒç³»ç»Ÿç­‰ç­‰
- **å·¥å‚ç»“æ„**ï¼šæœ‰ä¸”åªæœ‰ä¸€ä¸ªæŠ½è±¡çš„å·¥å‚ç±»ï¼Œå®šä¹‰åˆ›å»ºäº§å“çš„æŠ½è±¡æ–¹æ³•ï¼Œç„¶åå…·ä½“çš„å·¥å‚å­ç±»å»å®ç°è¿™ä¸ªæ–¹æ³•æ¥å®é™…åˆ›å»ºå…·ä½“çš„äº§å“ã€‚æ¯”å¦‚ `android` ç³»ç»Ÿçš„æºç æ˜¯å¤§å®¶éƒ½å¯ä»¥çœ‹åˆ°çš„ï¼Œå…¶ä»–å‚å•†ä¹Ÿå¯ä»¥æ ¹æ®`android` ç³»ç»Ÿçš„è®¾è®¡ï¼Œé‡æ–°å®ç°éƒ¨åˆ†å‡½æ•°ï¼Œä¿®æ”¹æˆå…¶ä»–çš„åŠŸèƒ½ã€‚
- **ä½¿ç”¨åœºæ™¯**ï¼šå½“åˆ›å»ºè¿‡ç¨‹æ¯”è¾ƒå¤æ‚ï¼Œæƒ³æŠŠå¯¹è±¡åˆ›å»ºå’Œä½¿ç”¨åˆ†ç¦»æ—¶å¸¸ç”¨ï¼Œæ¯”å¦‚åˆ›å»ºæ•°æ®åº“è¿æ¥å¯¹è±¡ç­‰ç®€å•çš„å•ä¸€äº§å“åˆ›å»ºåˆ›å»ºé€‚ç”¨ã€‚

**ã€æŠ½è±¡å·¥å‚æ¨¡å¼ã€‘**

- **å¯¹è±¡**ï¼šç”¨äºåˆ›å»ºä¸€ç³»åˆ—ç›¸å…³çš„äº§å“å¯¹è±¡ï¼Œæ¯”å¦‚åˆ›å»ºæ‰‹æœºçš„æ—¶å€™ï¼Œéœ€è¦è¿å¸¦åˆ›å»ºé…å¥—çš„å……ç”µå™¨ã€è€³æœºç­‰é…å¥—äº§å“
- **å·¥å‚ç»“æ„**ï¼šæŠ½è±¡å·¥å‚ç±»å®šä¹‰äº†å¤šä¸ªæŠ½è±¡åˆ›å»ºæ–¹æ³•ï¼Œåˆ†åˆ«ç”¨äºåˆ›å»ºä¸€ç³»åˆ—ç›¸å…³çš„äº§å“ã€‚æ›´å…·ä½“çš„å·¥å‚å­ç±»è¦å®ç°è¿™äº›æŠ½è±¡æ–¹æ³•ï¼Œæä¾›ä¸€æ•´å¥—çš„å…·ä½“äº§å“çš„åˆ›å»ºã€‚
- **ä½¿ç”¨åœºæ™¯**ï¼šå½“ç³»ç»Ÿè¦åˆ›å»ºå¤šä¸ªç›¸äº’ä¾èµ–æˆ–è€…å…³è”çš„å¯¹è±¡çš„æ—¶å€™ï¼Œç¡®ä¿è¿™äº›å¯¹è±¡æ­é…åˆç†ã€‚æ¯”å¦‚æ¸¸æˆå¼€å‘ä¸­åˆ›å»ºä¸åŒé£æ ¼(æ¯”å¦‚ç§‘æŠ€é£æ ¼ã€å¤é£)çš„è§’è‰²ã€æ­¦å™¨ã€åœºæ™¯ç­‰ä¸€æ•´å¥—ç›¸å…³çš„å…ƒç´ æ—¶ï¼Œå°±é€‚åˆç”¨æŠ½è±¡å·¥å‚æ¨¡å¼ã€‚

```java
// æŠ½è±¡äº§å“A
public interface ProductA {
    void use();
}

// å…·ä½“äº§å“A1 -> æ‰‹æœº
public class ConcreteProductA1 implements ProductA {
    @Override
    public void use() {
        System.out.println("Using ConcreteProductA1");
    }
}

// å…·ä½“äº§å“A2 -> ç”µè„‘
public class ConcreteProductA2 implements ProductA {
    @Override
    public void use() {
        System.out.println("Using ConcreteProductA2");
    }
}

// æŠ½è±¡äº§å“B
public interface ProductB {
    void eat();
}

// å…·ä½“äº§å“B1 -> æ‰‹æœºå……ç”µçº¿
public class ConcreteProductB1 implements ProductB {
    @Override
    public void eat() {
        System.out.println("Eating ConcreteProductB1");
    }
}

// å…·ä½“äº§å“B2 -> ç”µè„‘å……ç”µçº¿
public class ConcreteProductB2 implements ProductB {
    @Override
    public void eat() {
        System.out.println("Eating ConcreteProductB2");
    }
}

// æŠ½è±¡å·¥å‚ -> æŠŠä¸¤ä¸ªç›¸äº’å…³è”çš„æŠ½è±¡äº§å“ä¸€èµ·åˆ›å»º
public interface AbstractFactory {
    ProductA createProductA();
    ProductB createProductB();
}
// å…·ä½“å·¥å‚1
public class ConcreteFactory1 implements AbstractFactory {
    @Override
    public ProductA createProductA() {
        return new ConcreteProductA1();
    }

    @Override
    public ProductB createProductB() {
        return new ConcreteProductB1();
    }
}
// å…·ä½“å·¥å‚2
public class ConcreteFactory2 implements AbstractFactory {
    @Override
    public ProductA createProductA() {
        return new ConcreteProductA2();
    }

    @Override
    public ProductB createProductB() {
        return new ConcreteProductB2();
    }
}
// ä½¿ç”¨æŠ½è±¡å·¥å‚åˆ›å»ºäº§å“
public class Client {
    public static void main(String[] args) {
        AbstractFactory factory1 = new ConcreteFactory1();
        ProductA productA1 = factory1.createProductA();
        ProductB productB1 = factory1.createProductB();
        productA1.use();
        productB1.eat();

        AbstractFactory factory2 = new ConcreteFactory2();
        ProductA productA2 = factory2.createProductA();
        ProductB productB2 = factory2.createProductB();
        productA2.use();
        productB2.eat();
    }
}
```

